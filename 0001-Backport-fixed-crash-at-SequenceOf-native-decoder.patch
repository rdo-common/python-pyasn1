From 8f2d36aa772b5f83477ceecd0611532895773e0c Mon Sep 17 00:00:00 2001
From: Rob Crittenden <rcritten@redhat.com>
Date: Fri, 15 Sep 2017 11:17:33 -0400
Subject: [PATCH] Backport fixed crash at SequenceOf native decoder

Upstream change 218acc52cd4574df07536e1bc81bc1eb7a410573
---
---
 CHANGES.rst                    | 1 +
 pyasn1/codec/native/decoder.py | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/CHANGES.rst b/CHANGES.rst
index dfdf3ce..9cf0f50 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -8,6 +8,7 @@ Revision 0.3.4, released 07-09-2017
 - Fixed unnecessary duplicate tags detection at NamesType.tagMap
 - Fixed crash at SEQUENCE and SEQUENCE OF CER encoder when running
   in schemaless mode
+- Fixed crash at SequenceOf native decoder
 - Fixed Character types instantiation from OctetString type -- double
   unicode decoding may have scrambled the data
 
diff --git a/pyasn1/codec/native/decoder.py b/pyasn1/codec/native/decoder.py
index 4c7df95..ccecb5c 100644
--- a/pyasn1/codec/native/decoder.py
+++ b/pyasn1/codec/native/decoder.py
@@ -38,7 +38,7 @@ class SequenceOfOrSetOfDecoder(object):
         asn1Value = asn1Spec.clone()
 
         for pyValue in pyObject:
-            asn1Value.append(decoderFunc(pyValue, asn1Spec.componentType.asn1Object))
+            asn1Value.append(decoderFunc(pyValue, asn1Spec.componentType))
 
         return asn1Value
 
-- 
2.9.5

